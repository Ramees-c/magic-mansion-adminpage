<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="Magic Mansion Real Estate - Admin" />
    <meta name="author" content="Magic Mansion Real Estate" />

    <title>Magic Mansion Real Estate - Admin</title>
    <link
      rel="icon"
      href="./assets/images/icons/brand-icon.png"
      type="image/x-icon"
    />
    <!-- Favicon-->
    <link
      rel="stylesheet"
      href="../assets/plugins/bootstrap/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../assets/plugins/dropzone/dropzone.css" />
    <link
      rel="stylesheet"
      href="../assets/plugins/bootstrap-select/css/bootstrap-select.css"
    />
    <!-- Custom Css -->
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="stylesheet" href="assets/css/blog.css" />
    <link rel="stylesheet" href="assets/css/color_skins.css" />

    <style>
      .blog-file-upload {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .blog-upload-btn {
        display: inline-block;
        padding: 8px 12px;
        background-color: #333;
        color: #fff;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        text-align: center;
      }

      .blog-file-upload input[type="file"] {
        display: none;
      }

      .blog-preview-gallery {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 10px;
      }

      .blog-preview-box {
        position: relative;
      }

      .blog-image-preview {
        max-width: 180px;
        max-height: 180px;
        border-radius: 4px;
        border: 1px solid #ddd;
      }

      .blog-remove-btn {
        position: absolute;
        top: -8px;
        right: -8px;
        padding: 4px 8px;
        background-color: #ff4444;
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        font-size: 12px;
        line-height: 1;
      }

      .blog-remove-btn:hover {
        background-color: #cc0000;
      }

      .editor-wrapper {
        background: #ffffff;

        border-radius: 12px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .editor-wrapper h1 {
        text-align: center;
        margin-bottom: 20px;
      }

      #blog-preview {
        margin-top: 40px;
      }

      #blog-preview h2 {
        margin-bottom: 15px;
        color: #333;
      }

      #output {
        padding: 20px;
        background: #fff;
        border: 1px solid #ddd;
        border-radius: 8px;
      }

      .ck-editor__editable {
        min-height: 400px;
        max-height: 600px;
        overflow-y: auto;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>
  <body style="background-color: #ede8d0">
    <!-- Page Loader -->
    <div class="page-loader-wrapper">
      <div class="loader">
        <div class="m-t-30">
          <img
            class="zmdi-hc-spin"
            src="./assets/images/icons/brand-icon.png"
            width="48"
            height="48"
            alt="Oreo"
          />
        </div>
        <p>Please wait...</p>
      </div>
    </div>

    <!-- Overlay For Sidebars -->
    <div class="overlay"></div>

    <!-- Top Bar -->
    <nav class="navbar p-l-5 p-r-5">
      <ul class="nav navbar-nav navbar-left">
        <li>
          <div class="navbar-header">
            <a href="javascript:void(0);" class="bars"></a>
          </div>
        </li>

        <li class="float-right">
          <a href="sign-in.html" class="mega-menu" data-close="true"
            ><i class="zmdi zmdi-power"></i
          ></a>
        </li>
      </ul>
    </nav>

    <!-- Left Sidebar -->
    <aside id="leftsidebar" class="sidebar">
      <div class="tab-content">
        <div class="tab-pane stretchRight active" id="dashboard">
          <div class="menu">
            <ul class="list">
              <li>
                <a class="navbar-brand" href="index.html"
                  ><img
                    src="./assets/images/logo/logo-full-white.png"
                    width="150"
                    alt="logo"
                /></a>
              </li>

              <li>
                <a href="index.html"
                  ><i class="zmdi zmdi-home"></i><span>Dashboard</span></a
                >
              </li>

              <li>
                <a href="users.html"
                  ><i class="zmdi zmdi-accounts"></i><span>Users</span></a
                >
              </li>

              <li>
                <a href="javascript:void(0);" class="menu-toggle"
                  ><i class="zmdi zmdi-comment-text"></i
                  ><span>Attributes</span></a
                >
                <ul class="ml-menu">
                  <li><a href="property-types.html">Property Type </a></li>
                  <li><a href="community.html">Community / Area</a></li>
                  <li><a href="amenities.html">Amenities</a></li>
                  <li><a href="Builders.html">Builders </a></li>
                </ul>
              </li>
              <li>
                <a href="javascript:void(0);" class="menu-toggle"
                  ><i class="zmdi zmdi-city"></i><span>Property</span></a
                >
                <ul class="ml-menu">
                  <li><a href="property-list.html">Property List</a></li>
                  <li><a href="property-add.html">Add Property</a></li>
                  <li><a href="property-draft.html">Property Drafts</a></li>
                </ul>
              </li>

              <li class="active open">
                <a href="javascript:void(0);" class="menu-toggle"
                  ><i class="zmdi zmdi-blogger"></i><span>Blog</span></a
                >
                <ul class="ml-menu">
                  <li class="active"><a href="blog-post.html">New Post</a></li>
                  <li><a href="blog-list.html">Blog List</a></li>
                  <li><a href="blog-drafts.html">Blog Drafts</a></li>
                </ul>
              </li>
              <li>
                <a href="javascript:void(0);" class="menu-toggle"
                  ><i class="zmdi zmdi-collection-image"></i
                  ><span>Image Gallery</span></a
                >
                <ul class="ml-menu">
                  <li><a href="property-images.html">Propery Images</a></li>
                  <li><a href="blog-images.html">Blog Images</a></li>
                  <li>
                    <a href="builders-logogallery.html">Buiilders Logos</a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </aside>

    <section class="content blog-page">
      <div class="block-header">
        <div class="row">
          <div class="col-lg-7 col-md-6 col-sm-12">
            <h2>New Post</h2>
          </div>
        </div>
      </div>
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-12">
            <div class="card">
              <div class="body">
                <form action="">
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control"
                          placeholder="Enter Blog title"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-sm-6">
                      <select class="form-control show-tick" name="status">
                        <option value="">-- Select status --</option>
                        <option selected value="Active">Active</option>
                        <option value="Inactive">Inactive</option>
                      </select>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-sm-12">
                      <div class="editor-wrapper">
                        <textarea id="editor1"></textarea>
                      </div>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-sm-6">
                      <h6 class="mb-4">Customize Home Page Display</h6>
                      <div class="checkbox inlineblock m-r-20">
                        <input
                          id="addToHomepage"
                          type="checkbox"
                          name="addToHomepage"
                          value="Add To Home Page"
                        />
                        <label for="addToHomepage">Add To Home Page</label>
                      </div>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <input
                          type="number"
                          class="form-control"
                          placeholder="Enter display order (e.g. 1)"
                          name="displayOrder"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-sm-6 mb-4">
                      <div class="blog-file-upload">
                        <label for="blogImage" class="blog-upload-btn"
                          >Upload Blog Image</label
                        >
                        <input id="blogImage" type="file" accept="image/*" />
                        <small class="text-muted d-block mt-1">
                          Only landscape images allowed. Minimum size: 820×550
                          px.
                        </small>
                      </div>
                    </div>

                    <div class="col-sm-12">
                      <div
                        class="blog-preview-gallery"
                        id="blogPreviewGallery"
                      ></div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-12">
                      <button
                        type="button"
                        class="btn btn-primary btn-round waves-effect m-t-20"
                      >
                        Post
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <!-- <div class="card">
              <div class="body">
                <textarea id="ckeditor">
                            <h2>WYSIWYG Editor</h2>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam ullamcorper sapien non nisl facilisis bibendum in quis tellus. Duis in urna bibendum turpis pretium fringilla. Aenean neque velit, porta eget mattis ac, imperdiet quis nisi. Donec non dui et tortor vulputate luctus. Praesent consequat rhoncus velit, ut molestie arcu venenatis sodales.</p>
                            <h3>Lacinia</h3>
                            <ul>
                                <li>Suspendisse tincidunt urna ut velit ullamcorper fermentum.</li>
                                <li>Nullam mattis sodales lacus, in gravida sem auctor at.</li>
                                <li>Praesent non lacinia mi.</li>
                                <li>Mauris a ante neque.</li>
                                <li>Aenean ut magna lobortis nunc feugiat sagittis.</li>
                            </ul>
                            <h3>Pellentesque adipiscing</h3>
                            <p>Maecenas quis ante ante. Nunc adipiscing rhoncus rutrum. Pellentesque adipiscing urna mi, ut tempus lacus ultrices ac. Pellentesque sodales, libero et mollis interdum, dui odio vestibulum dolor, eu pellentesque nisl nibh quis nunc. Sed porttitor leo adipiscing venenatis vehicula. Aenean quis viverra enim. Praesent porttitor ut ipsum id ornare.</p>
                        </textarea
                >
                <button
                  type="button"
                  class="btn btn-primary btn-round waves-effect m-t-20"
                >
                  Post
                </button>
              </div>
            </div> -->
          </div>
        </div>
      </div>
    </section>
    <!-- Jquery Core Js -->
    <script src="assets/bundles/libscripts.bundle.js"></script>
    <!-- Lib Scripts Plugin Js -->
    <script src="assets/bundles/vendorscripts.bundle.js"></script>
    <!-- Lib Scripts Plugin Js -->

    <script src="../assets/plugins/dropzone/dropzone.js"></script>
    <!-- Dropzone Plugin Js -->
    <!-- <script src="../assets/plugins/ckeditor/ckeditor.js"></script> -->
    <!-- Ckeditor -->

    <script src="assets/bundles/mainscripts.bundle.js"></script>
    <!-- Custom Js -->
    <script src="assets/js/pages/forms/editors.js"></script>

  <script>
  const blogImageInput = document.getElementById("blogImage");
  const blogPreviewGallery = document.getElementById("blogPreviewGallery");

  blogImageInput.addEventListener("change", function (e) {
    const file = e.target.files[0];
    if (!file) return;

    blogPreviewGallery.innerHTML = "";

    const reader = new FileReader();
    reader.onload = function (event) {
      const img = new Image();
      img.src = event.target.result;

      img.onload = function () {
        const minWidth = 820;
        const minHeight = 550;

        // ❌ Minimum size check
        if (img.width < minWidth || img.height < minHeight) {
          Swal.fire({
            icon: "error",
            title: "Image Too Small",
            text: `Minimum image size is ${minWidth}×${minHeight}px. Your image is ${img.width}×${img.height}px.`,
            confirmButtonColor: "#d33",
          });
          blogImageInput.value = "";
          return;
        }

        // ❌ Orientation check (reject portrait or square)
        if (img.width <= img.height) {
          Swal.fire({
            icon: "error",
            title: "Invalid Orientation",
            text: "Only landscape images are allowed (width must be greater than height).",
            confirmButtonColor: "#d33",
          });
          blogImageInput.value = "";
          return;
        }

        // ✅ Valid image — show preview
        const previewBox = document.createElement("div");
        previewBox.className = "blog-preview-box";
        previewBox.style.position = "relative";
        previewBox.style.display = "inline-block";
        previewBox.style.margin = "10px";

        const image = document.createElement("img");
        image.src = img.src;
        image.className = "blog-image-preview";
        image.style.maxWidth = "100%";
        image.style.border = "1px solid #ccc";
        image.style.borderRadius = "6px";

        const removeBtn = document.createElement("button");
        removeBtn.className = "blog-remove-btn";
        removeBtn.innerHTML = "&times;";
        removeBtn.style.position = "absolute";
        removeBtn.style.top = "5px";
        removeBtn.style.right = "10px";
        removeBtn.style.background = "#f44336";
        removeBtn.style.color = "#fff";
        removeBtn.style.border = "none";
        removeBtn.style.borderRadius = "50%";
        removeBtn.style.width = "24px";
        removeBtn.style.height = "24px";
        removeBtn.style.cursor = "pointer";
        removeBtn.style.fontSize = "18px";

        removeBtn.onclick = function () {
          previewBox.remove();
          blogImageInput.value = "";
        };

        previewBox.appendChild(image);
        previewBox.appendChild(removeBtn);
        blogPreviewGallery.appendChild(previewBox);
      };
    };

    reader.readAsDataURL(file);
  });
</script>



    <!-- Load CKEditor 4.25.1 LTS -->
    <script src="https://cdn.ckeditor.com/4.25.1/full-all/ckeditor.js"></script>

    <script>
      CKEDITOR.replace("editor1", {
        toolbar: "Custom",

        toolbar_Custom: [
          ["Format", "Bold", "Italic", "Underline"],
          ["TextColor", "BGColor"],
          ["Image", "Link", "Unlink"],
          ["JustifyLeft", "JustifyCenter", "JustifyRight"],
          ["BulletedList", "NumberedList"],
          ["RemoveFormat", "Source"],
        ],

        height: 350,
        width: "100%",

        extraPlugins: "image2,colorbutton",

        removeDialogTabs: "image:advanced;link:advanced",

        allowedContent: true,

        format_tags: "p;h1;h2;h3;pre",

        forcePasteAsPlainText: true,

        filebrowserUploadUrl: "/uploader/upload.php",
        filebrowserImageUploadUrl: "/uploader/upload.php",
      });
    </script>
  </body>
</html>
